@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div>
    <form class="form-inline my-2 my-lg-0 p-3" method="post">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Discover Dependencies</button>
    </form>
    @foreach (var item in Model.ConsumingServices.Services)
    {
        <div>
            <p>@Html.DisplayFor(modelItem => item.ServiceName)</p>
            <p>
                @Html.DisplayFor(modelItem => item.ServiceBaseAddress)
            </p>
            @foreach (var readModel in item.ReadModels)
            {
                <p>
                    @Html.DisplayFor(modelItem => readModel.ReadModelName)
                </p>
            }
            @foreach (var subscribedEvent in item.SubscribedEvents)
            {
                <p>
                    @Html.DisplayFor(modelItem => subscribedEvent)
                </p>
            }
        </div>
    }
</div>
